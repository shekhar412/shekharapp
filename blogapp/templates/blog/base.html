<!DOCTYPE html>
{% load staticfiles %}
<html lang="en" dir="ltr">
  <head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <html lang="en">

      <head>

        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="">
        <meta name="author" content="">

        <title>Blog Application</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <!-- Bootstrap core CSS -->
        <link href="{% static "vendor/bootstrap/css/bootstrap.min.css"%}" rel="stylesheet">


        <!-- Custom fonts for this template -->
        <link href="{%static "vendor/fontawesome-free/css/all.min.css"%}" rel="stylesheet" type="text/css">
        <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

        <!-- Custom styles for this template -->
        <link rel="stylesheet" href="{% static "css/clean-blog.css" %}" >
        <link rel="stylesheet" href="{% static "css/clean-blog.min.css" %}" >





<style>
  #mainNav{
    position: fixed;
    height: 100px;
    width: 100%;
    top: 0px;
    right: 0px;
  }
</style>

<style>


  .btn {
    font-size: 13px;
    font-weight: 1000;
    padding: 5px 15px;
    letter-spacing: 2px;
    text-transform: uppercase;
    border-radius: 0;
    font-family: 'Open Sans','Helvetica Neue',Helvetica,Arial,sans-serif;
    height: 44px;

}
</style>

<style media="screen">

* {
box-sizing: border-box;
}

/* Style the search field */
form.example input[type=text] {
padding: 8px;
font-size: 15px;
border: 1px solid grey;
float: left;
width: 70%;
background: #f1f1f1;
}

/* Style the submit button */
form.example button {
float: left;
width: 15%;
padding: 10px;
background: #2196F3;
color: white;
font-size: 12px;
border: 1px solid grey;
border-left: none; /* Prevent double borders */
cursor: pointer;
}

form.example button:hover {
background: #0b7dda;
}

/* Clear floats */
form.example::after {
content: "";
clear: both;
display: table;
}
</style>

      </head>





    <meta charset="utf-8">
    <title>{% block title_block %}Blog Application{% endblock %}</title>
  </head>
  <body>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
      <div class="container">
        <a class="navbar-brand" href="/"><img src="{% static "img/p-trans2.png" %}" alt="My image"  height="130" width="220"  ></a>
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">

          <i class="fas fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">


                        <li class="nav-item " style="">
                          <a class="nav-link" href="/"><font size="2">Home</font></a>
                        </li>


            <li class="nav-item " style="">
              <a class="nav-link" href="/about"><font size="2">About</font></a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="/contact"><font size="2">Contact</font></a>
            </li>


            <li class="nav-item">
              <a class="nav-link " href="/add_post"><font size="2">Add Post</font> <span class="sr-only">(current)</span></a>
            </li>



          <div class="dropdown">
            {% if request.user.is_authenticated %}

            <button class="btn  btn-outline-info text-green btn-sm dropdown-toggle" type="button" data-toggle="dropdown">
              {%if request.user.profile.image.url %}
              <span class="caret">  <img class="rounded-circle account-img" src="{{ request.user.profile.image.url }}" height="32" width="32" ></span>
           {% else %}
           <span class="caret">  <img class="rounded-circle account-img" src="{% static "img/user.png" %}" height="32" width="32" ></span>
          {%endif%}
            <span class="caret"> &nbspHi {{request.user|title}}</span></button>


            <ul class="dropdown-menu" arial-lableledby="navbarDropdown">
              <li><a class="dropdown-item btn btn-outline-info  btn-sm" href="/add_profile"><font size="2">Add Profile</font></a></li>

            <li><a class="dropdown-item btn btn-outline-info  btn-sm" href="/profile"><font size="2">Edit Profile</font></a></li>
              <li><a class="dropdown-item btn btn-outline-info  btn-sm" href="/accounts/logout"><font size="2">Logout</font></a></li>

            </ul>
            {% else %}
            <li class="nav-item">
         <a class="nav-link  btn btn-outline-info text-white btn-sm "  href="/accounts/login"><font size="2">Login </font><span class="sr-only">(current)</span></a>

         </li>
         {%endif%}
          </div>

          </ul>
        </div>
      </div>
    </nav>




  {% block container_block %}

  {% endblock %}

  <hr>

  <!-- Footer -->
  <footer>
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
          <ul class="list-inline text-center">
            <li class="list-inline-item">
              <a href="https://twitter.com/?lang=en">
                <span class="fa-stack fa-lg">
                  <i class="fas fa-circle fa-stack-2x"></i>
                  <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
                </span>
              </a>
            </li>
            <li class="list-inline-item">
              <a href="https://www.facebook.com/">
                <span class="fa-stack fa-lg">
                  <i class="fas fa-circle fa-stack-2x"></i>
                  <i class="fab fa-facebook-f fa-stack-1x fa-inverse"></i>
                </span>
              </a>
            </li>

            <li class="list-inline-item">
              <a href="https://www.instagram.com/accounts/login/?hl=en">
                <span class="fa-stack fa-lg">
                  <i class="fas fa-circle fa-stack-2x"></i>
                  <i class="fab fa-instagram fa-stack-1x fa-inverse"></i>
                </span>
              </a>
            </li>

            <li class="list-inline-item">
              <a href="https://github.com/">
                <span class="fa-stack fa-lg">
                  <i class="fas fa-circle fa-stack-2x"></i>
                  <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                </span>
              </a>
            </li>
          </ul>
          <p class="copyright text-muted">Copyright &copy; Your Website 2018</p>
        </div>
      </div>
    </div>
  </footer>

  <!-- Bootstrap core JavaScript -->
  <script src="{% static "vendor/jquery/jquery.min.js" %}"></script>
  <script src="{% static "vendor/bootstrap/js/bootstrap.bundle.min.js" %}"></script>

  <!-- Custom scripts for this template -->
  <script src="{% static "js/clean-blog.min.js" %}"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript">

$(document).ready(function(event){

   $('#delete').click(function(){
    return confirm("Are You Sure Want To Delete This Post ?");
});

  $(document).on('click','#like',function(event){
    event.preventDefault();
    var pk = $(this).attr('value');
    $.ajax({
      type:'POST',
      url:'{% url "like_post" %}',
      data:{'id':pk, 'csrfmiddlewaretoken':'{{csrf_token}}'},
      dataType: 'json',
      success:function(response){
        $('#like_section').html(response['form'])
        console.log(  $('#like_section').html(response['form']));
      },
      error: function(rs,e){
        console.log(rs.responseText);
      },
    });
  });
});

</script>
  </body>
</html>
